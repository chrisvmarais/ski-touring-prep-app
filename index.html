<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ski Touring Prep Training</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { 
            Calendar, CheckCircle2, Circle, Play, Clock, Mountain, 
            Dumbbell, Activity 
        } = lucideReact;

        const SkiTouringPrepApp = () => {
            const [currentWeek, setCurrentWeek] = useState(1);
            const [completedWorkouts, setCompletedWorkouts] = useState(new Set());
            const [selectedDate, setSelectedDate] = useState(new Date());
            const [selectedWorkout, setSelectedWorkout] = useState(null);
            const [storageAvailable, setStorageAvailable] = useState(true);

            // Load saved progress on component mount
            useEffect(() => {
                try {
                    const savedWeek = localStorage.getItem('skiTouringCurrentWeek');
                    const savedCompletedWorkouts = localStorage.getItem('skiTouringCompletedWorkouts');
                    
                    if (savedWeek) {
                        setCurrentWeek(parseInt(savedWeek));
                    }
                    
                    if (savedCompletedWorkouts) {
                        setCompletedWorkouts(new Set(JSON.parse(savedCompletedWorkouts)));
                    }
                } catch (error) {
                    setStorageAvailable(false);
                }
            }, []);

            // Save progress whenever currentWeek changes
            useEffect(() => {
                try {
                    localStorage.setItem('skiTouringCurrentWeek', currentWeek.toString());
                } catch (error) {
                    // Silently fail if localStorage not available
                }
            }, [currentWeek]);

            // Save progress whenever completedWorkouts changes
            useEffect(() => {
                try {
                    localStorage.setItem('skiTouringCompletedWorkouts', JSON.stringify([...completedWorkouts]));
                } catch (error) {
                    // Silently fail if localStorage not available
                }
            }, [completedWorkouts]);

            // Clear all progress function
            const clearProgress = () => {
                try {
                    localStorage.removeItem('skiTouringCurrentWeek');
                    localStorage.removeItem('skiTouringCompletedWorkouts');
                    setCurrentWeek(1);
                    setCompletedWorkouts(new Set());
                } catch (error) {
                    // If localStorage not available, just reset state
                    setCurrentWeek(1);
                    setCompletedWorkouts(new Set());
                }
            };

            // Detailed workout library
            const workoutLibrary = {
                // Monday - Rest & Mobility
                'Rest Day Recovery + Hip/Ankle Mobility': {
                    warmup: "5min gentle walk or easy movement to assess how body feels",
                    main: [
                        "Hip flexor stretches: 3x45sec each leg",
                        "Ankle circles + calf stretches: 5min total",
                        "Light foam rolling: IT band, quads, calves (8min)",
                        "Gentle spinal twists: 5 each direction",
                        "Deep breathing: 3min relaxation"
                    ],
                    cooldown: "Complete rest - this IS your recovery day"
                },
                
                'Active Recovery + Fascial Release': {
                    warmup: "5min gentle movement assessment",
                    main: [
                        "Light fascial release: legs focus (10min)",
                        "Hip and glute stretches: 8min",
                        "Shoulder mobility: wall slides, doorway stretch (5min)",
                        "Gentle yoga flow: 10min",
                        "Meditation/visualization: 5min"
                    ],
                    cooldown: "Complete relaxation and mental preparation"
                },

                'Rest + Impact Recovery Protocol': {
                    warmup: "5min gentle assessment movements",
                    main: [
                        "Targeted fascial release: legs focus (12min)",
                        "Impact recovery stretches: calves, quads (8min)",
                        "Gentle movement flow: 10min",
                        "Self-massage with tools: 10min",
                        "Relaxation breathing: 5min"
                    ],
                    cooldown: "Complete relaxation sequence"
                },

                'Pre-Season Recovery + Mental Prep': {
                    warmup: "5min gentle movement check-in",
                    main: [
                        "Movement preparation sequence: 15min",
                        "Mental preparation and visualization: 15min",
                        "Complete relaxation: 5min"
                    ],
                    cooldown: "Rest and season readiness"
                },

                // Tuesday - Gym Day
                'Gym: Step-ups + Pull-ups + Single-leg Foundation': {
                    warmup: "8min dynamic warm-up: 1min march in place → 20 arm circles each direction → 10 leg swings each leg (front/back) → 10 leg swings each leg (side to side) → 8 walking lunges with reach → 8 bodyweight squats → 30sec easy step-ups each leg",
                    main: [
                        "Weighted step-ups 18-24\": 3x12 each leg (10-20lb pack)",
                        "Pull-ups or assisted: 4x5-8 reps",
                        "Single-leg glute bridges: 3x10 each side",
                        "Bulgarian split squats: 3x8 each leg",
                        "Plank: 3x30-45 seconds",
                        "Face pulls (shoulder health): 2x15"
                    ],
                    cooldown: "Hip flexor stretch, calf stretch, upper back stretch, 5min easy walk"
                },
                
                'Gym: Jump Prep + Eccentric Loading + Rows': {
                    warmup: "10min progressive warm-up: 2min easy walk → 10 arm swings each direction → 8 bodyweight squats → 6 walking lunges each leg → 10 calf raises → 5 small hops in place → 5 easy step-ups each leg → 30sec light marching",
                    main: [
                        "Box steps (controlled): 3x8 each leg",
                        "Eccentric squats (3sec down): 3x8",
                        "Bent-over rows: 3x10",
                        "Nordic hamstring curls (assisted): 3x3-5",
                        "Jump prep: Small hops 2x10",
                        "Overhead press: 3x8"
                    ],
                    cooldown: "Quad stretch, hamstring stretch, shoulder stretch, foam roll legs"
                },

                'Gym: Weighted Step-ups + Pull-ups + Plyometrics': {
                    warmup: "10min progressive: 2min walk → joint mobility → bodyweight movements → light plyometric prep → practice movements",
                    main: [
                        "Weighted step-ups: 4x10 each leg (15-25lb pack)",
                        "Pull-ups: 4x6-10 reps (add weight if possible)", 
                        "Box jumps: 3x5 (focus on soft landing)",
                        "Lateral bounds: 3x6 each direction",
                        "Single-leg deadlifts: 3x8 each leg",
                        "Push-ups: 3x10-15"
                    ],
                    cooldown: "Deep calf stretch, IT band roll, quad stretch, upper body stretch"
                },

                'Gym: Single-leg Power + Nordic Curls + Rows': {
                    warmup: "12min activation: easy movement → joint mobility → activation exercises → power prep movements",
                    main: [
                        "Single-leg box step-ups (explosive): 4x6 each leg",
                        "Nordic hamstring curls: 4x3-6 reps",
                        "Single-arm rows: 3x8 each arm", 
                        "Lateral lunges: 3x8 each direction",
                        "Calf raises (single leg): 3x12 each",
                        "Pull-ups: 3x6-10"
                    ],
                    cooldown: "Deep hamstring stretch, calf stretch, hip flexor release, upper back mobility"
                },

                'Gym: Drop Jumps + Pistol Squats + Weighted Pulls': {
                    warmup: "12min progressive: easy movement → joint prep → plyometric activation → practice jumps",
                    main: [
                        "Drop jumps: 4x3 from 12-18\" box (focus on absorption)",
                        "Pistol squat progression: 3x3-5 each leg",
                        "Weighted pull-ups: 4x5-8 (+10-25lbs)",
                        "Depth jumps: 3x3 (advanced - only if comfortable)",
                        "Nordic hamstring curls: 3x3-5 (eccentric focus)"
                    ],
                    cooldown: "Fascial release: calves, quads, glutes - 15min"
                },

                'Gym: Multi-plane Power + Max Strength': {
                    warmup: "12min dynamic warm-up with multi-directional movement prep",
                    main: [
                        "Lateral bounds: 4x5 each direction",
                        "Single-leg deadlifts (slow eccentric): 3x6 each",
                        "Rotational step-ups: 3x8 each leg",
                        "Eccentric pull-ups (5sec down): 3x3-5",
                        "Multi-directional lunges: 3x6 each direction"
                    ],
                    cooldown: "Full leg fascial release, deep stretching - 15min"
                },

                'Gym: Maintenance Strength + Neural Activation': {
                    warmup: "8min easy movement prep and activation",
                    main: [
                        "Light box jumps: 3x3 (maintenance only)",
                        "Bodyweight step-ups: 3x8 each leg",
                        "Pull-ups: 3x5-8 (maintenance volume)",
                        "Single-leg glute bridges: 2x10 each",
                        "Activation exercises: 10min"
                    ],
                    cooldown: "Light stretching, relaxation focus"
                },

                'Gym: Light Power + Movement Quality': {
                    warmup: "8min gentle activation and movement prep",
                    main: [
                        "Fast bodyweight squats: 3x5",
                        "Explosive step-ups: 3x3 each leg",
                        "Pull-ups (fast concentric): 3x3-5",
                        "Jump prep: 2x5 small jumps",
                        "Movement quality work: 15min"
                    ],
                    cooldown: "Easy stretching, mental preparation"
                },

                // Wednesday - Trail Run/Ski
                'Trail Run: Skinning Pace Base Build': {
                    warmup: "12min progressive warm-up: 3min flat easy running → 2min slight incline → 1min moderate incline → 30sec faster pace → back to easy × 2 rounds → 2min at target skinning pace to confirm intensity",
                    main: [
                        "60min steady trail run (uphill focus when possible)",
                        "Target: nose breathing only (conversational pace)",
                        "Simulate skinning rhythm: steady, sustainable effort",
                        "Focus on efficient uphill running technique"
                    ],
                    cooldown: "5min easy walk/jog, dynamic stretching, hydrate"
                },

                'Trail Run: Tempo Intervals + Base': {
                    warmup: "15min progressive: easy run → strides → tempo pace practice",
                    main: [
                        "15min easy base running",
                        "5x6min tempo intervals at touring pace (Zone 2-3)",
                        "2min easy recovery between intervals", 
                        "15min easy base running to finish",
                        "Total: 75min with quality tempo work"
                    ],
                    cooldown: "10min easy cool-down jog, full leg stretching"
                },

                'Trail Run: VO2 Intervals (simulate hard touring)': {
                    warmup: "20min progressive build including some tempo pace practice",
                    main: [
                        "6x4min intervals at VO2max pace (Zone 4-5)",
                        "3min recovery between intervals",
                        "Simulate steep touring or exposed terrain pace",
                        "Should be challenging but sustainable for interval duration"
                    ],
                    cooldown: "15min easy cool-down, deep breathing"
                },

                'Trail Run: Openers + Skills Practice': {
                    warmup: "15min progressive warm-up",
                    main: [
                        "3x5min tempo efforts at touring pace",
                        "3min recovery between efforts",
                        "Purpose: neural activation, not fatigue",
                        "Should feel smooth and controlled",
                        "Practice efficient movement patterns"
                    ],
                    cooldown: "10min easy cool-down"
                },

                // Friday - Optional Run + Mobility
                'Optional Easy Run + Mobility Flow': {
                    warmup: "If running: 8min easy build. If mobility only: 5min gentle movement",
                    main: [
                        "OPTION A: 30min easy recovery run + 15min mobility",
                        "OPTION B: Skip run, do 45min comprehensive mobility",
                        "Mobility focus: hips, ankles, shoulders, spine",
                        "This day is about feeling good, not training hard"
                    ],
                    cooldown: "Complete relaxation, prepare for big Saturday"
                },

                'Optional Run: Fat-burning Pace + Mobility': {
                    warmup: "If running: 10min very easy build. If mobility only: gentle assessment",
                    main: [
                        "OPTION A: 35min easy fat-burning pace run + 15min mobility",
                        "OPTION B: 50min comprehensive mobility session",
                        "Focus: active recovery and tissue preparation",
                        "Listen to your body - rest if needed"
                    ],
                    cooldown: "Extended stretching after PM session"
                },

                'Optional Easy Run + Movement Prep': {
                    warmup: "If running: 8min easy. If mobility only: movement assessment",
                    main: [
                        "OPTION A: 30min easy recovery run + 20min movement prep",
                        "OPTION B: 50min movement preparation session",
                        "Focus: preparing body for peak training",
                        "Should feel refreshing and energizing"
                    ],
                    cooldown: "Complete preparation for weekend"
                },

                'Optional Easy Run + Final Prep': {
                    warmup: "If running: 6min very easy. If prep only: gentle assessment",
                    main: [
                        "OPTION A: 25min easy run + 15min final prep",
                        "OPTION B: 40min pre-season preparation",
                        "Focus: final tuning and confidence building",
                        "Light and energizing only"
                    ],
                    cooldown: "Mental and physical readiness check"
                },

                // Saturday - Long Day
                'Long Trail Run/Ski (build pack weight)': {
                    warmup: "15min progressive warm-up with pack: easy movement → gradually build intensity → practice target pace",
                    main: [
                        "3-5hr continuous trail running/skiing with pack",
                        "Week 1-2: 10-15lbs, Week 3-4: 15-20lbs", 
                        "Mix terrain: uphills, flats, technical sections",
                        "Practice nutrition every 45-60min",
                        "Focus on sustainable pacing for long efforts"
                    ],
                    cooldown: "20min walking cool-down, comprehensive stretching, refuel properly"
                },

                'Long Adventure Run/Ski (4-5hrs)': {
                    warmup: "15min progressive warm-up with pack",
                    main: [
                        "4-5hr continuous movement with 15-25lb pack",
                        "Mix running/skiing: uphills, technical terrain",
                        "Include 2-3 'rest stops' (5min each)",
                        "Last 2 hours: practice steady skinning pace",
                        "Eat/drink as you would on tour"
                    ],
                    cooldown: "20min walking cooldown, full leg stretching routine"
                },

                'Peak Long Day Run/Ski (5-6+ hours)': {
                    warmup: "20min progressive warm-up with full pack",
                    main: [
                        "5-6+ hour adventure with 20-30lb pack",
                        "Simulate full touring day demands",
                        "Include elevation gain/loss if possible",
                        "Practice pacing for sustained effort",
                        "Mental training: stay focused for long duration"
                    ],
                    cooldown: "25min cool-down walk, comprehensive stretching"
                },

                'Moderate Adventure Run/Ski': {
                    warmup: "15min moderate warm-up with light pack",
                    main: [
                        "3hr moderate adventure with 15-20lb pack",
                        "Taper volume while maintaining movement quality",
                        "Focus on efficiency and enjoyment",
                        "Practice final pre-season skills"
                    ],
                    cooldown: "Relaxed cool-down and preparation"
                },

                // Sunday - Optional Easy + Recovery
                'Optional Easy Run + Deep Recovery': {
                    warmup: "If running: 5min very easy. If recovery only: gentle assessment movements",
                    main: [
                        "OPTION A: 30-45min very easy recovery run/ski + 30min recovery work",
                        "OPTION B: Skip activity, do 60min full recovery protocol",
                        "Recovery focus: foam rolling, stretching, relaxation", 
                        "Listen to your body - rest if needed"
                    ],
                    cooldown: "Complete rest and preparation for the week ahead"
                },

                'Optional Easy Run + Full Body Recovery': {
                    warmup: "If running: 5min very gentle start. If recovery only: assessment",
                    main: [
                        "OPTION A: 40min very easy movement + 30min recovery",
                        "OPTION B: 70min comprehensive recovery protocol",
                        "Full body focus: legs, shoulders, spine",
                        "Should feel refreshing, not tiring"
                    ],
                    cooldown: "Gentle relaxation, week preparation"
                },

                'Optional Recovery Run + Deep Restoration': {
                    warmup: "If running: very gentle movement start. If recovery only: assessment",
                    main: [
                        "OPTION A: 30min easy recovery movement + 45min restoration",
                        "OPTION B: 75min deep restoration protocol", 
                        "Focus: comprehensive recovery from peak training",
                        "Prepare body and mind for upcoming week"
                    ],
                    cooldown: "Complete rest and restoration"
                },

                'Complete Recovery + Season Readiness': {
                    warmup: "Gentle movement check-in and assessment",
                    main: [
                        "OPTION A: 30min easy movement + 30min season prep",
                        "OPTION B: 60min complete season preparation",
                        "Mental and physical readiness protocols",
                        "Visualization and confidence building"
                    ],
                    cooldown: "Rest and complete season readiness"
                }
            };

            // Training phases
            const getTrainingPhase = (week) => {
                if (week <= 4) return { name: "Base Building", color: "bg-blue-500" };
                if (week <= 8) return { name: "Aerobic Development", color: "bg-green-500" };
                if (week <= 12) return { name: "Strength & Power", color: "bg-orange-500" };
                return { name: "Peak & Taper", color: "bg-purple-500" };
            };

            // Workout templates
            const workoutTemplates = {
                aerobicBase: {
                    name: "Trail Run/Ski",
                    icon: React.createElement(Mountain, { className: "w-5 h-5" }),
                    description: "Aerobic base & tempo work"
                },
                highVolume: {
                    name: "Long Adventure",
                    icon: React.createElement(Clock, { className: "w-5 h-5" }),
                    description: "Long day preparation"
                },
                strength: {
                    name: "Gym Training",
                    icon: React.createElement(Dumbbell, { className: "w-5 h-5" }),
                    description: "Strength & power work"
                },
                mobility: {
                    name: "Rest & Recovery",
                    icon: React.createElement(Activity, { className: "w-5 h-5" }),
                    description: "Mobility & restoration"
                }
            };

            // Weekly schedule generator
            const generateWeekSchedule = (week) => {
                const schedule = [];
                
                // Base Building Phase (Weeks 1-4)
                if (week <= 4) {
                    schedule.push(
                        { day: 'Monday', type: 'mobility', workout: 'Rest Day Recovery + Hip/Ankle Mobility', duration: 30 },
                        { day: 'Tuesday', type: 'strength', workout: 'Gym: Step-ups + Pull-ups + Single-leg Foundation', duration: 60 },
                        { day: 'Wednesday', type: 'aerobicBase', workout: 'Trail Run: Skinning Pace Base Build', duration: 60 },
                        { day: 'Thursday', type: 'strength', workout: 'Gym: Jump Prep + Eccentric Loading + Rows', duration: 55 },
                        { day: 'Friday', type: 'aerobicBase', workout: 'Optional Easy Run + Mobility Flow', duration: 45 },
                        { day: 'Saturday', type: 'highVolume', workout: 'Long Trail Run/Ski (build pack weight)', duration: 180 + (week * 20) },
                        { day: 'Sunday', type: 'mobility', workout: 'Optional Easy Run + Deep Recovery', duration: 60 }
                    );
                }
                
                // Aerobic Development (Weeks 5-8)
                else if (week <= 8) {
                    schedule.push(
                        { day: 'Monday', type: 'mobility', workout: 'Active Recovery + Fascial Release', duration: 35 },
                        { day: 'Tuesday', type: 'strength', workout: 'Gym: Weighted Step-ups + Pull-ups + Plyometrics', duration: 65 },
                        { day: 'Wednesday', type: 'aerobicBase', workout: 'Trail Run: Tempo Intervals + Base', duration: 75 },
                        { day: 'Thursday', type: 'strength', workout: 'Gym: Single-leg Power + Nordic Curls + Rows', duration: 60 },
                        { day: 'Friday', type: 'aerobicBase', workout: 'Optional Run: Fat-burning Pace + Mobility', duration: 50 },
                        { day: 'Saturday', type: 'highVolume', workout: 'Long Adventure Run/Ski (4-5hrs)', duration: 240 + (week * 15) },
                        { day: 'Sunday', type: 'mobility', workout: 'Optional Easy Run + Full Body Recovery', duration: 70 }
                    );
                }
                
                // Strength & Power (Weeks 9-12)
                else if (week <= 12) {
                    schedule.push(
                        { day: 'Monday', type: 'mobility', workout: 'Rest + Impact Recovery Protocol', duration: 40 },
                        { day: 'Tuesday', type: 'strength', workout: 'Gym: Drop Jumps + Pistol Squats + Weighted Pulls', duration: 70 },
                        { day: 'Wednesday', type: 'aerobicBase', workout: 'Trail Run: VO2 Intervals (simulate hard touring)', duration: 70 },
                        { day: 'Thursday', type: 'strength', workout: 'Gym: Multi-plane Power + Max Strength', duration: 65 },
                        { day: 'Friday', type: 'aerobicBase', workout: 'Optional Easy Run + Movement Prep', duration: 50 },
                        { day: 'Saturday', type: 'highVolume', workout: 'Peak Long Day Run/Ski (5-6+ hours)', duration: 360 },
                        { day: 'Sunday', type: 'mobility', workout: 'Optional Recovery Run + Deep Restoration', duration: 75 }
                    );
                }
                
                // Peak & Taper (Weeks 13+)
                else {
                    schedule.push(
                        { day: 'Monday', type: 'mobility', workout: 'Pre-Season Recovery + Mental Prep', duration: 35 },
                        { day: 'Tuesday', type: 'strength', workout: 'Gym: Maintenance Strength + Neural Activation', duration: 50 },
                        { day: 'Wednesday', type: 'aerobicBase', workout: 'Trail Run: Openers + Skills Practice', duration: 60 },
                        { day: 'Thursday', type: 'strength', workout: 'Gym: Light Power + Movement Quality', duration: 45 },
                        { day: 'Friday', type: 'aerobicBase', workout: 'Optional Easy Run + Final Prep', duration: 40 },
                        { day: 'Saturday', type: 'highVolume', workout: 'Moderate Adventure Run/Ski', duration: 180 },
                        { day: 'Sunday', type: 'mobility', workout: 'Complete Recovery + Season Readiness', duration: 60 }
                    );
                }
                
                return schedule;
            };

            const currentPhase = getTrainingPhase(currentWeek);
            const weekSchedule = generateWeekSchedule(currentWeek);
            
            const toggleWorkoutCompletion = (workoutId) => {
                const newCompleted = new Set(completedWorkouts);
                if (newCompleted.has(workoutId)) {
                    newCompleted.delete(workoutId);
                } else {
                    newCompleted.add(workoutId);
                }
                setCompletedWorkouts(newCompleted);
            };

            const getCompletionRate = () => {
                const totalWorkouts = weekSchedule.length;
                const completed = weekSchedule.filter(w => 
                    completedWorkouts.has(`${currentWeek}-${w.day}`)
                ).length;
                return Math.round((completed / totalWorkouts) * 100);
            };

            const getWorkoutDetails = (workoutName) => {
                return workoutLibrary[workoutName] || {
                    warmup: "General warm-up appropriate for workout type",
                    main: ["Follow workout template guidelines"],
                    cooldown: "Cool down and stretch targeted muscle groups"
                };
            };

            return React.createElement('div', { className: "max-w-4xl mx-auto p-6 bg-gray-50 min-h-screen" }, [
                // Header
                React.createElement('div', { key: 'header', className: "bg-white rounded-lg shadow-lg p-6 mb-6" }, [
                    React.createElement('div', { key: 'header-content', className: "flex items-center justify-between" }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { key: 'h1', className: "text-3xl font-bold text-gray-800 mb-2" }, "Ski Touring Prep Training"),
                            React.createElement('p', { key: 'subtitle', className: "text-gray-600" }, "Inspired by Cascade Endurance, 100mile Kyle & Mountainfit")
                        ]),
                        React.createElement(Mountain, { key: 'mountain-icon', className: "w-12 h-12 text-blue-600" })
                    ]),
                    
                    React.createElement('div', { key: 'phase-info', className: "mt-4 flex items-center justify-between" }, [
                        React.createElement('div', { key: 'phase-left', className: "flex items-center space-x-4" }, [
                            React.createElement('div', { key: 'phase-badge', className: `${currentPhase.color} text-white px-4 py-2 rounded-full text-sm font-medium` }, 
                                `Week ${currentWeek}: ${currentPhase.name}`),
                            React.createElement('div', { key: 'completion', className: "text-sm text-gray-600" }, 
                                `Completion: ${getCompletionRate()}%`)
                        ]),
                        
                        React.createElement('div', { key: 'progress-mgmt', className: "flex items-center space-x-2" }, [
                            !storageAvailable && React.createElement('div', { key: 'warning', className: "text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded" }, "Progress saves locally"),
                            React.createElement('button', { 
                                key: 'reset',
                                onClick: clearProgress,
                                className: "text-xs text-gray-500 hover:text-gray-700 underline"
                            }, "Reset Progress")
                        ])
                    ])
                ]),

                // Week Navigation
                React.createElement('div', { key: 'navigation', className: "bg-white rounded-lg shadow-lg p-6 mb-6" }, [
                    React.createElement('div', { key: 'nav-header', className: "flex items-center justify-between mb-4" }, [
                        React.createElement('h2', { key: 'nav-title', className: "text-xl font-semibold" }, "Training Week"),
                        React.createElement('div', { key: 'nav-buttons', className: "flex space-x-2" }, [
                            React.createElement('button', { 
                                key: 'prev',
                                onClick: () => setCurrentWeek(Math.max(1, currentWeek - 1)),
                                className: "px-3 py-1 bg-gray-200 rounded hover:bg-gray-300",
                                disabled: currentWeek === 1
                            }, "Previous"),
                            React.createElement('span', { key: 'current', className: "px-4 py-1 bg-blue-100 rounded font-medium" }, `Week ${currentWeek}`),
                            React.createElement('button', { 
                                key: 'next',
                                onClick: () => setCurrentWeek(currentWeek + 1),
                                className: "px-3 py-1 bg-gray-200 rounded hover:bg-gray-300"
                            }, "Next")
                        ])
                    ]),
                    
                    React.createElement('div', { key: 'phase-desc', className: "text-sm text-gray-600 mb-4" }, 
                        currentPhase.name === "Base Building" ? "Focus: Skinning pace aerobic base, single-leg strength foundation, fascial preparation" :
                        currentPhase.name === "Aerobic Development" ? "Focus: Long day endurance, weighted step-ups, plyometric preparation, back-to-back sessions" :
                        currentPhase.name === "Strength & Power" ? "Focus: Drop jump readiness, multi-plane power, peak long days (5-6+ hours), impact preparation" :
                        "Focus: Maintaining fitness while preparing legs/fascia for touring season demands")
                ]),

                // Weekly Schedule
                React.createElement('div', { key: 'schedule', className: "bg-white rounded-lg shadow-lg p-6 mb-6" }, [
                    React.createElement('h3', { key: 'schedule-title', className: "text-xl font-semibold mb-4" }, "This Week's Training"),
                    React.createElement('div', { key: 'workout-grid', className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3" }, 
                        weekSchedule.map((workout, index) => {
                            const workoutId = `${currentWeek}-${workout.day}`;
                            const isCompleted = completedWorkouts.has(workoutId);
                            const workoutType = workoutTemplates[workout.type];
                            
                            return React.createElement('div', { 
                                key: index,
                                className: `border rounded-lg p-4 transition-all cursor-pointer hover:shadow-lg ${isCompleted ? 'bg-green-50 border-green-200' : 'bg-white border-gray-200 hover:border-blue-300'}`,
                                onClick: () => setSelectedWorkout(workout)
                            }, [
                                React.createElement('div', { key: 'workout-header', className: "flex items-center justify-between mb-3" }, [
                                    React.createElement('div', { key: 'workout-info', className: "flex items-center space-x-2" }, [
                                        workoutType.icon,
                                        React.createElement('span', { key: 'day', className: "font-medium text-gray-700" }, workout.day)
                                    ]),
                                    React.createElement('button', { 
                                        key: 'complete-btn',
                                        onClick: (e) => {
                                            e.stopPropagation();
                                            toggleWorkoutCompletion(workoutId);
                                        },
                                        className: "text-green-600 hover:text-green-700"
                                    }, isCompleted ? React.createElement(CheckCircle2, { className: "w-5 h-5" }) : React.createElement(Circle, { className: "w-5 h-5" }))
                                ]),
                                
                                React.createElement('h4', { key: 'workout-name', className: "font-semibold text-gray-800 mb-2" }, workout.workout),
                                React.createElement('p', { key: 'workout-type', className: "text-sm text-gray-600 mb-3" }, workoutType.name),
                                
                                React.createElement('div', { key: 'workout-duration', className: "flex items-center text-sm text-gray-500 mb-4" }, [
                                    React.createElement(Clock, { className: "w-4 h-4 mr-1" }),
                                    `${workout.duration} min`
                                ]),
                                
                                React.createElement('div', { key: 'tap-details', className: "mt-4 pt-3 border-t border-gray-200" }, 
                                    React.createElement('div', { className: "flex items-center justify-center space-x-2 text-blue-600 font-medium" }, [
                                        React.createElement(Play, { className: "w-4 h-4" }),
                                        React.createElement('span', {}, "Tap for Full Workout Details")
                                    ])
                                )
                            ]);
                        })
                    )
                ]),

                // Workout Detail Modal
                selectedWorkout && React.createElement('div', { key: 'modal', className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50" }, 
                    React.createElement('div', { className: "bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto" }, 
                        React.createElement('div', { className: "p-6" }, (() => {
                            const details = getWorkoutDetails(selectedWorkout.workout);
                            return [
                                React.createElement('div', { key: 'modal-header', className: "flex items-center justify-between mb-4" }, [
                                    React.createElement('h3', { key: 'modal-title', className: "text-2xl font-bold text-gray-800" }, 
                                        `${selectedWorkout.day} - ${selectedWorkout.workout}`),
                                    React.createElement('button', { 
                                        key: 'close-btn',
                                        onClick: () => setSelectedWorkout(null),
                                        className: "text-gray-500 hover:text-gray-700 text-2xl font-bold"
                                    }, "×")
                                ]),
                                
                                React.createElement('div', { key: 'modal-meta', className: "flex items-center space-x-4 text-sm text-gray-600 mb-6" }, [
                                    React.createElement('div', { key: 'duration-info', className: "flex items-center" }, [
                                        React.createElement(Clock, { className: "w-4 h-4 mr-1" }),
                                        `${selectedWorkout.duration} minutes`
                                    ]),
                                    React.createElement('div', { key: 'type-info', className: "flex items-center" }, [
                                        workoutTemplates[selectedWorkout.type].icon,
                                        React.createElement('span', { className: "ml-1" }, workoutTemplates[selectedWorkout.type].name)
                                    ])
                                ]),

                                React.createElement('div', { key: 'warmup-section', className: "bg-blue-50 p-4 rounded-lg mb-6" }, [
                                    React.createElement('h4', { key: 'warmup-title', className: "font-semibold text-blue-800 mb-2" }, "Warm-up"),
                                    React.createElement('p', { key: 'warmup-content', className: "text-blue-700" }, details.warmup)
                                ]),

                                React.createElement('div', { key: 'main-section', className: "bg-orange-50 p-4 rounded-lg mb-6" }, [
                                    React.createElement('h4', { key: 'main-title', className: "font-semibold text-orange-800 mb-3" }, "Main Workout"),
                                    React.createElement('div', { key: 'main-content', className: "space-y-2" }, 
                                        details.main.map((exercise, idx) => 
                                            React.createElement('div', { key: idx, className: "flex items-start space-x-2" }, [
                                                React.createElement('span', { key: 'number', className: "text-orange-600 font-medium" }, `${idx + 1}.`),
                                                React.createElement('span', { key: 'exercise', className: "text-orange-700" }, exercise)
                                            ])
                                        )
                                    )
                                ]),

                                React.createElement('div', { key: 'cooldown-section', className: "bg-green-50 p-4 rounded-lg mb-6" }, [
                                    React.createElement('h4', { key: 'cooldown-title', className: "font-semibold text-green-800 mb-2" }, "Cool-down"),
                                    React.createElement('p', { key: 'cooldown-content', className: "text-green-700" }, details.cooldown)
                                ]),

                                React.createElement('div', { key: 'modal-footer', className: "flex justify-between items-center pt-4 border-t" }, [
                                    React.createElement('button', { 
                                        key: 'close-footer',
                                        onClick: () => setSelectedWorkout(null),
                                        className: "px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300"
                                    }, "Close"),
                                    React.createElement('button', { 
                                        key: 'mark-complete',
                                        onClick: () => {
                                            const workoutId = `${currentWeek}-${selectedWorkout.day}`;
                                            toggleWorkoutCompletion(workoutId);
                                            setSelectedWorkout(null);
                                        },
                                        className: "px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center space-x-2"
                                    }, [
                                        React.createElement(CheckCircle2, { key: 'check-icon', className: "w-4 h-4" }),
                                        React.createElement('span', { key: 'check-text' }, "Mark Complete")
                                    ])
                                ])
                            ];
                        })())
                    )
                ),

                // Footer
                React.createElement('div', { key: 'footer', className: "mt-8 text-center text-sm text-gray-500" }, [
                    React.createElement('p', { key: 'footer-1' }, "Training philosophy inspired by proven endurance coaching methods"),
                    React.createElement('p', { key: 'footer-2', className: "mt-1" }, "Adjust intensity and volume based on your fitness level and goals")
                ])
            ]);
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(SkiTouringPrepApp));
    </script>
</body>
</html>
